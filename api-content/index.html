{"posts":[{"title":"AspectJï¼ˆè½¬è½½ï¼‰","content":" æœ¬æ–‡ç”± ç®€æ‚¦ SimpRead è½¬ç ï¼Œ åŸæ–‡åœ°å€ juejin.cn mp.weixin.qq.com/s?src=11&amp;tiâ€¦ å‰ä¸¤å¤©çœ‹äº†ä¸€äº›å…³äº spring aop ä»¥åŠ AspectJ çš„æ–‡ç« ï¼Œä½†æ˜¯æ€»æ˜¯æ„Ÿè§‰éå¸¸çš„ä¹±ï¼Œæœ‰çš„è¯´ spring aop è·Ÿ aspectj ç›¸äº’ç‹¬ç«‹ï¼Œæœ‰çš„è¯´ spring aop ä¾èµ–äº aspectjï¼Œæœ‰çš„ç”šè‡³ç›´æ¥æŠŠä¸¤è€…æ··ä¸ºä¸€è°ˆã€‚å¾ˆå¤šä¸“é—¨è®² Aspectj çš„æ–‡ç« ä¹Ÿåªæ˜¯æ¬è¿äº† AspectJ çš„è¯­æ³•ï¼Œå°±é‚£ä¹ˆä¸€ä¸¤ç‚¹ä¸œè¥¿ï¼Œè®²æ¥è®²å»ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ–°æ„ã€‚ç”šè‡³å¾ˆå¤šç”šè‡³éƒ½æ˜¯é¢å‘ IDE ç¼–ç¨‹ (æ•™ä½ æ€ä¹ˆå®‰è£…æ’ä»¶ï¼Œç‚¹å‡»èœå•)ï¼Œå¯¹ AspectJ çš„ä½¿ç”¨æ–¹å¼å’Œå·¥ä½œåŸç†éƒ½ä¸å»åˆ†æï¼Œç¦»å¼€äº† IDE çš„æ”¯æŒç”šè‡³è¿ç¼–è¯‘éƒ½ä¸ä¼šäº†ã€‚æˆ‘è®¤ä¸ºå’±ä»¬è¿™äº›ç å†œå¹³æ—¶ä¹ æƒ¯ç”¨ IDE å¹¶æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä¸ä»…è¦åšåˆ°ä¼šç”¨ IDEï¼Œè€Œä¸”è¦åšåˆ°è¶…è¶Š IDEï¼Œè¿™æ ·æ‰èƒ½ç«™åˆ°æ›´é«˜ä¸€ç‚¹çš„è§†è§’çœ‹å‡ºå·¥å…·çš„æœ¬æ¥é¢ç›®è€Œä¸æ˜¯å—å·¥å…·çš„å±€é™ã€‚ å½“ç„¶ï¼Œæˆ‘åæ§½äº†è¿™ä¹ˆå¤šå…¶å®å¹¶ä¸æ˜¯æƒ³æ ‡æ–°ç«‹å¼‚ï¼Œåªæ˜¯æƒ³æ‰¾ä¸€ä¸ªå†™æ–‡ç« çš„ç†ç”±ã€‚è™½ç„¶ä»æŸç§æ–¹é¢è®²ï¼Œå¯èƒ½ä¹Ÿç®—æ˜¯â€ èŒ´é¦™è±†çš„ X ç§å†™æ³• â€œï¼Œä½†æ˜¯æ—¢ç„¶æˆ‘è‡ªå·±ä¹åœ¨å…¶ä¸­ï¼Œé‚£ä¹ˆå¼€å¿ƒå°±å¥½å–½ã€‚ ä¸ºä»€ä¹ˆç”¨ AspectJï¼Œæˆ‘çš„ç†è§£æ˜¯ä¸¤ä¸ªå­—â€æ–¹ä¾¿ â€œã€‚æˆ‘ä»¬çŸ¥é“é¢å‘åˆ‡é¢ç¼–ç¨‹(Aspect Oriented Programming) æœ‰è¯¸å¤šå¥½å¤„ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ AspectJ ä¹‹å‰æˆ‘ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆç¼–å†™åˆ‡é¢çš„å‘¢ï¼Ÿæˆ‘æƒ³ä¸€èˆ¬æ¥è¯´åº”è¯¥æ˜¯ä¸‰ç§å§: é™æ€ä»£ç†ï¼Œjdk åŠ¨æ€ä»£ç†ï¼Œcglib åŠ¨æ€ä»£ç†ã€‚ä½†æ˜¯æˆ‘ä»¬çŸ¥é“ï¼Œé™æ€ä»£ç†çš„é‡ç”¨æ€§å¤ªå·®ï¼Œä¸€ä¸ªä»£ç†ä¸èƒ½åŒäº‹ä»£ç†å¤šç§ç±»ï¼›åŠ¨æ€ä»£ç†å¯ä»¥åšåˆ°ä»£ç†çš„é‡ç”¨ï¼Œä½†æ˜¯å³ä½¿è¿™æ ·ï¼Œä»–ä»¬è°ƒç”¨èµ·æ¥è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œé™¤äº†å†™åˆ‡é¢ä»£ç ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†ä»£ç†ç±»è€¦åˆè¿›è¢«ä»£ç†ç±»çš„è°ƒç”¨é˜¶æ®µï¼Œåœ¨åˆ›å»ºè¢«ä»£ç†ç±»çš„æ—¶å€™éƒ½è¦å…ˆåˆ›å»ºä»£ç†ç±»ï¼Œå†ç”¨ä»£ç†ç±»å»åˆ›å»ºè¢«ä»£ç†ç±»ï¼Œè¿™å°±ç¨å¾®æœ‰ç‚¹éº»çƒ¦äº†ã€‚æ¯”å¦‚æˆ‘ä»¬æƒ³åœ¨ç°æœ‰çš„æŸä¸ªé¡¹ç›®é‡Œç»Ÿä¸€æ–°åŠ å…¥ä¸€äº›åˆ‡é¢ï¼Œè¿™æ—¶å€™å°±éœ€è¦åˆ›å»ºåˆ‡é¢å¹¶ä¸”ä¾µå…¥åŸæœ‰ä»£ç ï¼Œåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™æ·»åŠ ä»£ç†ï¼Œè¿˜æ˜¯æŒºéº»çƒ¦çš„ã€‚ è¯´åˆ°åº•ï¼Œè¿™ç§éº»çƒ¦å‡ºç°çš„æœ¬è´¨åŸå› æ˜¯ï¼Œä»£ç†æ¨¡å¼å¹¶æ²¡æœ‰åšåˆ°åˆ‡é¢ä¸ä¸šåŠ¡ä»£ç çš„è§£è€¦ã€‚è™½ç„¶å°†åˆ‡é¢çš„é€»è¾‘ç‹¬ç«‹è¿›äº†ä»£ç†ç±»ï¼Œä½†æ˜¯å†³å®šæ˜¯å¦ä½¿ç”¨åˆ‡é¢çš„æƒåˆ©ä»ç„¶åœ¨ä¸šåŠ¡ä»£ç ä¸­ã€‚è¿™æ‰å¯¼è‡´äº†ä¸Šé¢è¿™ç§éº»çƒ¦ã€‚ (å½“ç„¶ï¼Œè¯ä¸èƒ½è¯´çš„è¿™ä¹ˆç»å¯¹ï¼Œå¦‚æœæœ‰é‚£ç§ç±»ä¼¼ Spring çš„ IoC å®¹å™¨ï¼Œå°†ç±»çš„åˆ›å»ºéƒ½ç»Ÿä¸€æ‰˜ç®¡èµ·æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦å°†åˆ‡é¢ç”¨é…ç½®æ–‡ä»¶è¿›è¡Œæ³¨å†Œï¼Œå®¹å™¨ä¼šæ ¹æ®æ³¨å†Œä¿¡æ¯åœ¨åˆ›å»º bean çš„æ—¶å€™è‡ªåŠ¨åŠ ä¸Šä»£ç†ï¼Œè¿™ä¹Ÿæ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ã€‚ä¸è¿‡å¹¶ä¸æ˜¯æ‰€æœ‰æ¡†æ¶éƒ½æä¾› IoC æœºåˆ¶çš„å§ã€‚ã€‚ã€‚) æ—¢ç„¶ä»£ç†æ¨¡å¼è¿™ä¹ˆéº»çƒ¦ï¼Œé‚£ä¹ˆ AspectJ åˆæ˜¯é€šè¿‡ä»€ä¹ˆæ–¹å¼æ¥é¿å…è¿™ä¸ªéº»çƒ¦çš„å‘¢ï¼Ÿ æˆ‘æ€»ç»“ AspectJ æä¾›äº†ä¸¤å¥—å¼ºå¤§çš„æœºåˆ¶ï¼š ç¬¬ä¸€å¥—æ˜¯åˆ‡é¢è¯­æ³•ã€‚å°±æ˜¯ç½‘ä¸Šåˆ°å¤„éƒ½æ˜¯çš„é‚£ç§æ‰€è°“â€AspectJ ä½¿ç”¨æ–¹æ³•â€ï¼Œè¿™å¥—ä¸œè¥¿åšåˆ°äº†å°†å†³å®šæ˜¯å¦ä½¿ç”¨åˆ‡é¢çš„æƒåˆ©è¿˜ç»™äº†åˆ‡é¢ã€‚åœ¨å†™åˆ‡é¢çš„æ—¶å€™å°±å¯ä»¥å†³å®šå“ªäº›ç±»çš„å“ªäº›æ–¹æ³•ä¼šè¢«ä»£ç†ï¼Œä»è€Œä»é€»è¾‘ä¸Šä¸éœ€è¦ä¾µå…¥ä¸šåŠ¡ä»£ç ã€‚ç”±äºè¿™å¥—è¯­æ³•å®åœ¨æ˜¯å¤ªæœ‰åï¼Œå¯¼è‡´å¾ˆå¤šäººéƒ½è¯¯ä»¥ä¸º AspectJ ç­‰äºåˆ‡é¢è¯­æ³•ï¼Œå…¶å®ä¸ç„¶ã€‚ ç¬¬äºŒå¥—æ˜¯ç»‡å…¥å·¥å…·ã€‚åˆšæ‰è®²åˆ°åˆ‡é¢è¯­æ³•èƒ½å¤Ÿè®©åˆ‡é¢ä»é€»è¾‘ä¸Šä¸ä¸šåŠ¡ä»£ç è§£è€¦ï¼Œä½†æ˜¯ä»æ“ä½œä¸Šæ¥è®²ï¼Œå½“ JVM è¿è¡Œä¸šåŠ¡ä»£ç çš„æ—¶å€™ï¼Œä»–ç”šè‡³æ— ä»å¾—çŸ¥æ—è¾¹è¿˜æœ‰ä¸ªç±»æƒ³æ¨ªæ’ä¸€åˆ€ã€‚ã€‚ã€‚è¿™ä¸ªé—®é¢˜å¤§æ¦‚æœ‰ä¸¤ç§è§£å†³æ€è·¯ï¼Œä¸€ç§å°±æ˜¯æä¾›æ³¨å†Œæœºåˆ¶ï¼Œé€šè¿‡é¢å¤–çš„é…ç½®æ–‡ä»¶æŒ‡æ˜å“ªäº›ç±»å—åˆ°åˆ‡é¢çš„å½±å“ï¼Œä¸è¿‡è¿™è¿˜æ˜¯éœ€è¦å¹²æ¶‰å¯¹è±¡åˆ›å»ºçš„è¿‡ç¨‹ï¼›å¦å¤–ä¸€ç§è§£å†³æ€è·¯å°±æ˜¯åœ¨ç¼–è¯‘æœŸ (æˆ–è€…ç±»åŠ è½½æœŸ) æˆ‘ä»¬ä¼˜å…ˆè€ƒè™‘ä¸€ä¸‹åˆ‡é¢ä»£ç ï¼Œå¹¶å°†åˆ‡é¢ä»£ç é€šè¿‡æŸç§å½¢å¼æ’å…¥åˆ°ä¸šåŠ¡ä»£ç ä¸­ï¼Œè¿™æ ·ä¸šåŠ¡ä»£ç ä¸å°±çŸ¥é“è‡ªå·±è¢« â€œåˆ‡â€ äº†ä¹ˆï¼Ÿè¿™ç§æ€è·¯çš„ä¸€ä¸ªå®ç°å°±æ˜¯ aspectjweaverï¼Œå°±æ˜¯è¿™é‡Œçš„ç»‡å…¥å·¥å…·ã€‚ ä¸€æèµ· AspectJï¼Œå…¶å®æˆ‘æ„Ÿè§‰ç»å¤§å¤šæ•°äººéƒ½ä¼šè”æƒ³åˆ° Springã€‚æ¯•ç«Ÿï¼Œå¤§å¤šæ•°äººéƒ½æ˜¯é€šè¿‡ spring æ‰æ¥è§¦åˆ°äº† AspectJã€‚å¯äº‹å®ä¸Š Spring åªæ˜¯ç”¨åˆ°äº† AspectJ çš„å†°å±±ä¸€è§’ï¼Œå±€é™äº Spring ææ€•æ˜¯ä¸èƒ½å¾ˆå¥½çš„ç†è§£ AspectJ çš„ï¼Œå› æ­¤è¿™ä¸€èŠ‚æˆ‘è®²ä¸æ¶‰åŠä»»ä½• spring çš„ä¸œè¥¿ï¼Œå•çœ‹ä¸‹ AspectJã€‚ äº‹å®ä¸Š AspectJ æä¾›äº†ä¸¤å¥—å¯¹åˆ‡é¢çš„æè¿°æ–¹æ³•ï¼Œä¸€ç§å°±æ˜¯æˆ‘ä»¬å¸¸è§çš„åŸºäº java æ³¨è§£åˆ‡é¢æè¿°çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•å…¼å®¹ java è¯­æ³•ï¼Œå†™èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä¸éœ€è¦ IDE çš„é¢å¤–è¯­æ³•æ£€æµ‹æ”¯æŒï¼›å¦å¤–ä¸€ç§æ˜¯åŸºäº aspect æ–‡ä»¶çš„åˆ‡é¢æè¿°æ–¹æ³•ï¼Œè¿™ç§è¯­æ³•æœ¬èº«å¹¶ä¸æ˜¯ java è¯­æ³•ï¼Œå› æ­¤å†™çš„æ—¶å€™éœ€è¦ IDE çš„æ’ä»¶æ”¯æŒæ‰èƒ½è¿›è¡Œè¯­æ³•æ£€æŸ¥ã€‚ AspectJ ç›¸å…³ jar åŒ… AspectJ å…¶å®æ˜¯ eclipse åŸºé‡‘ä¼šçš„ä¸€ä¸ªé¡¹ç›®ï¼Œå®˜ç½‘å°±åœ¨ eclipse å®˜ç½‘é‡Œã€‚å®˜ç½‘é‡Œæä¾›äº†ä¸€ä¸ª aspectJ.jar çš„ä¸‹è½½é“¾æ¥ï¼Œä½†å…¶å®è¿™ä¸ªé“¾æ¥åªæ˜¯ä¸€ä¸ªå®‰è£…åŒ…ï¼ŒæŠŠå®‰è£…åŒ…é‡Œçš„ä¸œè¥¿è§£å‹åå°±æ˜¯ä¸€ä¸ªæ–‡æ¡£ + è„šæœ¬ + jar åŒ…çš„ç¨‹åºåŒ…ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯å¦‚ä¸‹éƒ¨åˆ†ï¼š myths@pc:~/aspectj1.8$ tree bin/ lib/bin/â”œâ”€â”€ ajâ”œâ”€â”€ aj5â”œâ”€â”€ ajbrowserâ”œâ”€â”€ ajcâ””â”€â”€ ajdoclib/â”œâ”€â”€ aspectjrt.jarâ”œâ”€â”€ aspectjtools.jarâ”œâ”€â”€ aspectjweaver.jarâ””â”€â”€ org.aspectj.matcher.jarå¤åˆ¶ä»£ç  å½“ç„¶ï¼Œè¿™äº› jar åŒ…å¹¶ä¸æ€»æ˜¯éœ€è¦ä»å®˜ç½‘ä¸‹è½½ï¼Œå¾ˆå¤šæƒ…å†µä¸‹åœ¨ maven ç­‰ä¸­å¿ƒåº“ä¸­ç›´æ¥æ‰¾ä¼šæ›´æ–¹ä¾¿ã€‚ è¿™å½“ä¸­é‡ç‚¹çš„æ–‡ä»¶æ˜¯å››ä¸ª jar åŒ…ä¸­çš„å‰ä¸‰ä¸ªï¼Œbin æ–‡ä»¶å¤¹ä¸­çš„è„šæœ¬å…¶å®éƒ½æ˜¯è°ƒç”¨è¿™äº› jar åŒ…çš„å‘½ä»¤ã€‚ aspectjrt.jar åŒ…ä¸»è¦æ˜¯æä¾›è¿è¡Œæ—¶çš„ä¸€äº›æ³¨è§£ï¼Œé™æ€æ–¹æ³•ç­‰ç­‰ä¸œè¥¿ï¼Œé€šå¸¸æˆ‘ä»¬è¦ä½¿ç”¨ aspectJ çš„æ—¶å€™éƒ½è¦ä½¿ç”¨è¿™ä¸ªåŒ…ã€‚ aspectjtools.jar åŒ…ä¸»è¦æ˜¯æä¾›èµ«èµ«æœ‰åçš„ ajc ç¼–è¯‘å™¨ï¼Œå¯ä»¥åœ¨ç¼–è¯‘æœŸå°†å°† java æ–‡ä»¶æˆ–è€… class æ–‡ä»¶æˆ–è€… aspect æ–‡ä»¶å®šä¹‰çš„åˆ‡é¢ç»‡å…¥åˆ°ä¸šåŠ¡ä»£ç ä¸­ã€‚é€šå¸¸è¿™ä¸ªä¸œè¥¿ä¼šè¢«å°è£…è¿›å„ç§ IDE æ’ä»¶æˆ–è€…è‡ªåŠ¨åŒ–æ’ä»¶ä¸­ã€‚ aspectjweaverjar åŒ…ä¸»è¦æ˜¯æä¾›äº†ä¸€ä¸ª java agent ç”¨äºåœ¨ç±»åŠ è½½æœŸé—´ç»‡å…¥åˆ‡é¢ (Load time weaving)ã€‚å¹¶ä¸”æä¾›äº†å¯¹åˆ‡é¢è¯­æ³•çš„ç›¸å…³å¤„ç†ç­‰åŸºç¡€æ–¹æ³•ï¼Œä¾› ajc ä½¿ç”¨æˆ–è€…ä¾›ç¬¬ä¸‰æ–¹å¼€å‘ä½¿ç”¨ã€‚è¿™ä¸ªåŒ…ä¸€èˆ¬æˆ‘ä»¬ä¸éœ€è¦æ˜¾å¼å¼•ç”¨ï¼Œé™¤ééœ€è¦ä½¿ç”¨ LTWã€‚ ä¸Šé¢çš„è¯´æ˜å…¶å®ä¹Ÿå°±æŒ‡å‡ºäº† aspectJ çš„å‡ ç§æ ‡å‡†çš„ä½¿ç”¨æ–¹æ³• (å‚è€ƒæ–‡æ¡£)ï¼š ç¼–è¯‘æ—¶ç»‡å…¥ï¼Œåˆ©ç”¨ ajc ç¼–è¯‘å™¨æ›¿ä»£ javac ç¼–è¯‘å™¨ï¼Œç›´æ¥å°†æºæ–‡ä»¶ (java æˆ–è€… aspect æ–‡ä»¶) ç¼–è¯‘æˆ class æ–‡ä»¶å¹¶å°†åˆ‡é¢ç»‡å…¥è¿›ä»£ç ã€‚ ç¼–è¯‘åç»‡å…¥ï¼Œåˆ©ç”¨ ajc ç¼–è¯‘å™¨å‘ javac ç¼–è¯‘æœŸç¼–è¯‘åçš„ class æ–‡ä»¶æˆ– jar æ–‡ä»¶ç»‡å…¥åˆ‡é¢ä»£ç ã€‚ åŠ è½½æ—¶ç»‡å…¥ï¼Œä¸ä½¿ç”¨ ajc ç¼–è¯‘å™¨ï¼Œåˆ©ç”¨ aspectjweaver.jar å·¥å…·ï¼Œä½¿ç”¨ java agent ä»£ç†åœ¨ç±»åŠ è½½æœŸå°†åˆ‡é¢ç»‡å…¥è¿›ä»£ç ã€‚ åŸºäº aspectj æ–‡ä»¶çš„ AspectJ è¿™ç§è¯´æ³•æ¯”è¾ƒè›‹ç–¼ï¼Œå…¶å®æˆ‘æƒ³è¯´æ˜çš„æ˜¯è¿™ç§ä¸å…¼å®¹ javac çš„ä¸€ç§åˆ‡é¢è¡¨ç¤ºå½¢å¼ã€‚æ¯”å¦‚å½“å‰æˆ‘ä»¬æœ‰ä¸€ä¸ªä¸šåŠ¡ç±» App.java: public class App { public void say() { System.out.println(&quot;App say&quot;); } public static void main(String[] args) { App app = new App(); app.say(); } } æˆ‘ä»¬å¸Œæœ›å¯¹åœ¨ say å‡½æ•°é‡ŒåŠ ä¸€ä¸ªåˆ‡é¢, é‚£å°±åˆ›å»ºä¸€ä¸ª AjAspectj.aj çš„æ–‡ä»¶: public aspect AjAspect{ pointcut say():execution(*App.say(..)); before():say(){ System.out.println(&quot;AjAspect before say&quot;); } after():say(){ System.out.println(&quot;AjAspect after say&quot;); } } è¿™æ ·æˆ‘ä»¬å°±èƒ½å®ç°åˆ‡é¢çš„åŠŸèƒ½ã€‚å¯è¿™ä¸ª aj æ–‡ä»¶çš„è¯­æ³•è™½ç„¶è·Ÿ java å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯æ¯•ç«Ÿè¿˜æ˜¯ä¸èƒ½ç”¨ javac æ¥ç¼–è¯‘ï¼Œå¦‚æœæˆ‘ä»¬è¦ç”¨è¿™ä¸ªçš„è¯å°±å¿…é¡»ä½¿ç”¨ ajc ç¼–è¯‘å™¨ã€‚ä½¿ç”¨çš„æ–¹æ³•å¤§æ¦‚æœ‰è¿™å‡ ç§: è°ƒç”¨å‘½ä»¤ç›´æ¥ç¼–è¯‘ (ç›´æ¥ä½¿ç”¨ ajc å‘½ä»¤æˆ–è€…è°ƒç”¨ java -jar aspectjtools.jar) ä½¿ç”¨ IDE é›†æˆçš„ ajc ç¼–è¯‘å™¨ç¼–è¯‘ ä½¿ç”¨è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·çš„æ’ä»¶ç¼–è¯‘ å…¶å® 2,3 ä¸¤ç‚¹çš„æœ¬è´¨éƒ½æ˜¯ä½¿ç”¨ aspectjtools.jarï¼Œæœ€ç®€å•çš„è°ƒç”¨æ–¹æ³•å¦‚ä¸‹: #!/usr/bin/env bashASPECTJ_TOOLS=/home/myths/.m2/repository/org/aspectj/aspectjtools/1.8.9/aspectjtools-1.8.9.jarASPECTJ_RT=/home/myths/.m2/repository/org/aspectj/aspectjrt/1.8.9/aspectjrt-1.8.9.jarjava -jar $ASPECTJ_TOOLS -cp $ASPECTJ_RT -sourceroots . è°ƒç”¨ aspectjtools.jar åŒ…ï¼ŒæŒ‡å®š aspectjrt çš„ classpathï¼Œä»¥åŠéœ€è¦ç¼–è¯‘çš„è·¯å¾„ï¼Œè¿™æ ·å°±ä¼šç”Ÿæˆ AjAspectj.aj ä»¥åŠ App.java å¯¹åº”çš„ class æ–‡ä»¶ã€‚æˆ‘ä»¬åç¼–è¯‘ä¸€ä¸‹çœ‹çœ‹ï¼š AjAspectj.class: package com.aop; import java.io.PrintStream; import org.aspectj.lang.NoAspectBoundException; public class AjAspect { private static Throwable ajc$initFailureCause; public static final AjAspect ajc$perSingletonInstance; public static AjAspect aspectOf() { if (ajc$perSingletonInstance == null) { throw new NoAspectBoundException(&quot;AjAspect&quot;, ajc$initFailureCause); } return ajc$perSingletonInstance; } public static boolean hasAspect() { return ajc$perSingletonInstance != null; } private static void ajc$postClinit() { ajc$perSingletonInstance = new AjAspect(); } static { try { } catch (Throwable localThrowable) { ajc$initFailureCause = localThrowable; } } public void ajc$before$AjAspect$1$682722c() { System.out.println(&quot;AjAspect before say&quot;); } public void ajc$after$AjAspect$2$682722c() { System.out.println(&quot;AjAspect after say&quot;); } } App.class: import java.io.PrintStream; public class App { public void say() { try { AjAspect.aspectOf().ajc$before$AjAspect$1$682722c(); System.out.println(&quot;App say&quot;); } catch (Throwable localThrowable) { AjAspect.aspectOf().ajc$after$AjAspect$2$682722c(); throw localThrowable; } AjAspect.aspectOf().ajc$after$AjAspect$2$682722c(); } public static void main(String[] args) { App app = new App(); app.say(); } } è°ƒç”¨ App.classï¼Œå‘ç°åˆ‡é¢æˆåŠŸç”Ÿæ•ˆï¼š $ java -cp ~/.m2/repository/org/aspectj/aspectjrt/1.8.9/aspectjrt-1.8.9.jar:. AppAjAspect before sayApp sayAjAspect after say æˆ‘ä»¬å‘ç° aj æ–‡ä»¶çš„ç¡®è¢«ç¼–è¯‘æˆäº†ä¸€ä¸ªå•ä¾‹ç±»ï¼Œå¹¶ä¸”ç”Ÿæˆäº†ä¸€äº›åˆ‡é¢æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•è¢«ç»‡å…¥è¿›äº† App ç±»ä¸­çš„ say æ–¹æ³•ä½“ä¸­ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸çš„æš´åŠ›äº†ã€‚(è¿™é‡Œé¡ºä¾¿åæ§½ä¸€æ³¢ IntelliJ è‡ªå¸¦çš„åç¼–è¯‘å™¨çœŸçš„å¾ˆçƒ‚ï¼Œè¿˜æ˜¯ jd-gui å¥½ç”¨)ã€‚ ä¸è¿‡ï¼Œè™½ç„¶äº‹å®ä¸Šè¿™ç§åŸºäº aj æ–‡ä»¶çš„åˆ‡é¢æè¿°æ–¹æ³•æ¯”åŸºäº java æ³¨è§£çš„åˆ‡é¢æè¿°æ–¹æ³•ç”¨èµ·æ¥è¦çµæ´»çš„å¤šï¼Œä½†æ˜¯ç”±äºä»–æ— æ³•æ‘†è„± ajc çš„æ”¯æŒï¼Œè€Œä¸”æœ¬èº«ä¸å…¼å®¹ java è¯­æ³•å¯¼è‡´éš¾ä»¥ç»Ÿä¸€ç¼–ç è§„èŒƒï¼ŒåŠ ä¸Šéœ€è¦è¾ƒå¤šé¢å¤–çš„å­¦ä¹ æˆæœ¬ï¼Œå› æ­¤äº‹å®ä¸Šå¾ˆå¤šé¡¹ç›®è¿˜æ˜¯ä¸æ€ä¹ˆç”¨è¿™ç§æ–¹å¼ï¼Œæ›´å¤šçš„è¿˜æ˜¯é‡‡ç”¨äº†å…¼å®¹ java è¯­æ³•çš„ç”¨æ³¨è§£å®šä¹‰åˆ‡é¢çš„æ–¹å¼ã€‚ åŸºäº java æ³¨è§£çš„ AspectJ ä¸‹é¢æˆ‘ä»¬ä¸»è¦è¿˜æ˜¯ç€åŠ›è€ƒè™‘ä¸‹åŸºäº java æ³¨è§£çš„åˆ‡é¢ä½¿ç”¨æ–¹æ³•ã€‚ å‡†å¤‡ å…ˆå»ºä¸€ä¸ªæ™®é€šçš„é¡¹ç›®çœ‹çœ‹ï¼Œè€æ ·å­ï¼Œä» maven çš„ maven-archetype-quickstart å¼€å§‹ï¼Œpom.xmlï¼Œpom æ–‡ä»¶é‡Œæˆ‘ä»¬ä¸€èˆ¬åªéœ€è¦åŠ ä¸Š aspetjrt çš„ä¾èµ–å³å¯ã€‚: &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.mythsman.test&lt;/groupId&gt; &lt;artifactId&gt;aspect-test&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;jar&lt;/packaging&gt; &lt;name&gt;work&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt; &lt;version&gt;1.8.9&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;version&gt;3.7.0&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;/configuration&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt; åˆ›å»º App.java æ–‡ä»¶: package com.aspect; public class App { public void say() { System.out.println(&quot;App say&quot;); } public static void main(String[] args) { App app = new App(); app.say(); } } åˆ›å»ºåˆ‡é¢ç±» AnnoAspect.java: package com.mythsman.test; import org.aspectj.lang.annotation.After; import org.aspectj.lang.annotation.Aspect; import org.aspectj.lang.annotation.Before; import org.aspectj.lang.annotation.Pointcut; @Aspectpublic class AnnoAspect { @Pointcut(&quot;execution(* com.mythsman.test.App.say(..))&quot;) public void jointPoint() { } @Before(&quot;jointPoint()&quot;) public void before() { System.out.println(&quot;AnnoAspect before say&quot;); } @After(&quot;jointPoint()&quot;) public void after() { System.out.println(&quot;AnnoAspect after say&quot;); } } å½“å‰é¡¹ç›®ç»“æ„åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š â”œâ”€â”€ pom.xml â”œâ”€â”€ src â”‚ â””â”€â”€ main â”‚ â”œâ”€â”€ java â”‚ â”‚ â””â”€â”€ com â”‚ â”‚ â””â”€â”€ mythsman â”‚ â”‚ â””â”€â”€ test â”‚ â”‚ â””â”€â”€ App.java â”‚ â”‚ â”œâ”€â”€ AnnoAspect.java å…¶å®å°±æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå¯¹ App ç±»è¿›è¡Œåˆ‡é¢çš„ AnnoAspect ç±»ï¼Œè¿™ä¸ªç±»éœ€è¦åŠ ä¸Š @Aspect æ³¨è§£ç”¨ä»¥å£°æ˜è¿™æ˜¯ä¸€ä¸ªåˆ‡é¢ï¼Œä»¥åŠå…¶ä»–ç›¸å…³åˆ‡é¢è¯­æ³•ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å°è¯•ä¸‹ä¸‰ç§ä¸åŒçš„ç¼–è¯‘æ–¹å¼ã€‚ ç¼–è¯‘æ—¶ç»‡å…¥ ç¼–è¯‘æ—¶ç»‡å…¥å…¶å®å°±æ˜¯ä½¿ç”¨ ajc æ¥è¿›è¡Œç¼–è¯‘ï¼Œæš‚æ—¶ä¸ä½¿ç”¨è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼Œæˆ‘ä»¬å…ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰‹åŠ¨å†™ä¸€ä¸ªç¼–è¯‘è„šæœ¬ compile.sh: #!/usr/bin/env bashASPECTJ_WEAVER=/home/myths/.m2/repository/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jarASPECTJ_RT=/home/myths/.m2/repository/org/aspectj/aspectjrt/1.8.9/aspectjrt-1.8.9.jarASPECTJ_TOOLS=/home/myths/.m2/repository/org/aspectj/aspectjtools/1.8.9/aspectjtools-1.8.9.jarjava -jar $ASPECTJ_TOOLS -cp $ASPECTJ_RT -source 1.5 -sourceroots src/main/java/ -d target/classes è°ƒç”¨ aspectjtools.jarï¼Œåœ¨ - cp é‡ŒæŒ‡æ˜ aspectjrt.jar çš„è·¯å¾„ï¼Œ-source 1.5 æŒ‡æ˜æ”¯æŒ java1.5 ä»¥åçš„æ³¨è§£ï¼Œ-sourceroots æŒ‡æ˜ç¼–è¯‘çš„æ–‡ä»¶å¤¹ï¼Œ-d æŒ‡æ˜è¾“å‡ºè·¯å¾„ã€‚ è¿™æ ·å°±ä¼šç”Ÿæˆ AnnoAspect.class å’Œ App.class ä¸¤ä¸ªæ–‡ä»¶ã€‚ AnnoAspect.class: package com.mythsman.test; import java.io.PrintStream; import org.aspectj.lang.NoAspectBoundException; import org.aspectj.lang.annotation.After; import org.aspectj.lang.annotation.Aspect; import org.aspectj.lang.annotation.Before; @Aspectpublic class AnnoAspect { public static AnnoAspect aspectOf() { if (ajc$perSingletonInstance == null) { throw new NoAspectBoundException(&quot;com.mythsman.test.AnnoAspect&quot;, ajc$initFailureCause); } return ajc$perSingletonInstance; } public static boolean hasAspect() { return ajc$perSingletonInstance != null; } static { try { ajc$postClinit(); } catch (Throwable localThrowable) { ajc$initFailureCause = localThrowable; } } @Before(&quot;jointPoint()&quot;) public void before() { System.out.println(&quot;AnnoAspect before say&quot;); } @After(&quot;jointPoint()&quot;) public void after() { System.out.println(&quot;AnnoAspect after say&quot;); } } App.class package com.mythsman.test; import java.io.PrintStream; public class App { public void say() { try { AnnoAspect.aspectOf().before(); System.out.println(&quot;App say&quot;); } catch (Throwable localThrowable) { AnnoAspect.aspectOf().after(); throw localThrowable; } AnnoAspect.aspectOf().after(); } public static void main(String[] args) { App app = new App(); app.say(); } } æˆ‘ä»¬å‘ç° ajc å¯¹ AnnoAspect çš„å¤„ç†æ–¹æ³•ä¸è·Ÿ AjAspect çš„å¤„ç†æ–¹æ³•ç±»ä¼¼ï¼Œéƒ½æ˜¯å°†ç±»å£°æ˜æˆå•ä¾‹ï¼Œå¹¶ä¸”è¯†åˆ« AspectJ è¯­æ³•ï¼Œå°†ç›¸å…³å‡½æ•°ç»‡å…¥åˆ° App ä¸­ã€‚ è¿è¡Œ (åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ): $ java -cp ~/.m2/repository/org/aspectj/aspectjrt/1.8.9/aspectjrt-1.8.9.jar:src/main/java/ com.mythsman.test.App AnnoAspect before sayApp sayAnnoAspect after say ç¼–è¯‘åç»‡å…¥ ç¼–è¯‘åç»‡å…¥å…¶å®å°±æ˜¯åœ¨ javac ç¼–è¯‘å®Œæˆåï¼Œç”¨ ajc å†å»å¤„ç† class æ–‡ä»¶å¾—åˆ°æ–°çš„ã€ç»‡å…¥è¿‡åˆ‡é¢çš„ class æ–‡ä»¶ã€‚ ä»ç„¶æ˜¯ä¸Šé¢çš„é¡¹ç›®ï¼Œæˆ‘ä»¬å…ˆç”¨ javac ç¼–è¯‘ä¸€ä¸‹: $ javac -cp ~/.m2/repository/org/aspectj/aspectjrt/1.8.9/aspectjrt-1.8.9.jar -d target/classes src/main/java/com/mythsman/test/*.java ç¼–è¯‘æˆåŠŸåç”Ÿæˆäº† AnnoAspect.class ä»¥åŠ App.classã€‚æ˜¾ç„¶ï¼Œè¿™ä¸¤ä¸ª class æ–‡ä»¶åç¼–è¯‘åè¿˜æ˜¯æºæ–‡ä»¶çš„æ ·å­ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå› æ­¤è¿™æ—¶å€™æ‰§è¡Œ App çš„ main å‡½æ•°å‘ç°åˆ‡é¢å¹¶æ²¡æœ‰ç”Ÿæ•ˆã€‚å› æ­¤æˆ‘ä»¬ä»ç„¶éœ€è¦ç”¨ ajc æ¥å¤„ç†: !/usr/bin/env bashASPECTJ_WEAVER=/home/myths/.m2/repository/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jarASPECTJ_RT=/home/myths/.m2/repository/org/aspectj/aspectjrt/1.8.9/aspectjrt-1.8.9.jarASPECTJ_TOOLS=/home/myths/.m2/repository/org/aspectj/aspectjtools/1.8.9/aspectjtools-1.8.9.jarjava -jar $ASPECTJ_TOOLS -cp $ASPECTJ_RT -source 1.5 -inpath target/classes -d target/classes è¿™æ ·å°±æŠŠ target/classes ä¸­åŸæ¥çš„ class æ–‡ä»¶æ›¿æ¢æˆäº†ç»‡å…¥åçš„ class æ–‡ä»¶ã€‚åç¼–è¯‘ä¹‹åå‘ç°ä¸é‡‡ç”¨ç¼–è¯‘æœŸç»‡å…¥æ–¹æ³•çš„ç»“æœåŸºæœ¬ç›¸åŒã€‚ åŠ è½½æ—¶ç»‡å…¥ (LTW) å‰ä¸¤ç§ç»‡å…¥æ–¹æ³•éƒ½ä¾èµ–äº ajc çš„ç¼–è¯‘å·¥å…·ï¼ŒLTW å´é€šè¿‡ java agent æœºåˆ¶åœ¨å†…å­˜ä¸­æ“ä½œç±»æ–‡ä»¶ï¼Œå¯ä»¥ä¸éœ€è¦ ajc çš„æ”¯æŒåšåˆ°åŠ¨æ€ç»‡å…¥ã€‚ ä¸è¿‡ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæŒºæœ‰æ„æ€çš„é—®é¢˜ï¼Œæˆ‘ä»¬çŸ¥é“ç¼–è¯‘æœŸä¸€å®šä¼šç¼–è¯‘ AnnoAspect ç±»ï¼Œé‚£ä¹ˆè¿™æ—¶å€™é€šè¿‡åˆ‡é¢è¯­æ³•æˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°ä»–è¦å¤„ç†çš„ App ç±»ï¼Œè¿™å¤§æ¦‚å°±æ˜¯ç¼–è¯‘é˜¶æ®µç»‡å…¥çš„å¤§æ¦‚æµç¨‹ã€‚ä½†æ˜¯å¦‚æœåœ¨ç±»åŠ è½½æœŸå¤„ç†çš„è¯ï¼Œå½“ç±»åŠ è½½åˆ° App ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“è¿™ä¸ªç±»éœ€è¦è¢« AnnoAspect å¤„ç†ã€‚ã€‚ã€‚å› æ­¤ä¸ºäº†å®ç° LTWï¼Œæˆ‘ä»¬è‚¯å®šè¦æœ‰ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ¥å‘Šè¯‰ç±»åŠ è½½å™¨ï¼ŒæŸæŸæŸåˆ‡é¢éœ€è¦ä¼˜å…ˆè€ƒè™‘ï¼Œä»–ä»¬å¾ˆå¯èƒ½ä¼šå½±å“å…¶ä»–çš„ç±»ã€‚ ä¸ºäº†å®ç° LTWï¼Œæˆ‘ä»¬éœ€è¦åœ¨èµ„æºç›®å½•ä¸‹é…ç½® META-INF/aop.xml æ–‡ä»¶ï¼Œæ¥å‘ŠçŸ¥ç±»åŠ è½½å™¨æˆ‘ä»¬å½“å‰æ³¨å†Œçš„åˆ‡é¢ã€‚ åœ¨ä¸Šé¢çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å…¶å®åªéœ€è¦åˆ›å»º src/main/resources/META-INF/aop.xmlï¼š &lt;aspectj&gt; &lt;aspects&gt; &lt;aspect name=&quot;com.mythsman.test.AnnoAspect&quot;/&gt; &lt;/aspects&gt; &lt;/aspectj&gt; è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å…ˆä½¿ç”¨ javac ç¼–è¯‘æºæ–‡ä»¶ï¼Œå†ä½¿ç”¨ java agent åœ¨è¿è¡Œæ—¶ç»‡å…¥: #!/usr/bin/env bashASPECTJ_WEAVER=/home/myths/.m2/repository/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jarASPECTJ_RT=/home/myths/.m2/repository/org/aspectj/aspectjrt/1.8.9/aspectjrt-1.8.9.jarASPECTJ_TOOLS=/home/myths/.m2/repository/org/aspectj/aspectjtools/1.8.9/aspectjtools-1.8.9.jarjava -javaagent:$ASPECTJ_WEAVER -cp $ASPECTJ_RT:target/classes/ com.mythsman.test.App è¿è¡Œç»“æœ: AnnoAspect before sayApp sayAnnoAspect after say å½“ç„¶ï¼Œå¦‚æœå¯ä»¥ä½¿ç”¨ ajc çš„è¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ - outxml å‚æ•°æ¥è‡ªåŠ¨ç”Ÿæˆ xml æ–‡ä»¶ã€‚ maven è‡ªåŠ¨åŒ–æ„å»º æ˜¾ç„¶ï¼Œè‡ªå·±å†™è„šæœ¬è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œå¦‚æœç”¨å¦‚ maven è¿™æ ·çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·çš„è¯å°±ä¼šæ–¹ä¾¿å¾ˆå¤šï¼Œcodehaus æä¾›äº†ä¸€ä¸ª ajc çš„ç¼–è¯‘æ’ä»¶ aspectj-maven-pluginï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ build/plugins æ ‡ç­¾ä¸‹åŠ ä¸Šè¿™ä¸ªæ’ä»¶çš„é…ç½®å³å¯: &lt;plugin&gt; &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt; &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.10&lt;/version&gt; &lt;configuration&gt; &lt;source&gt;1.8&lt;/source&gt; &lt;target&gt;1.8&lt;/target&gt; &lt;complianceLevel&gt;1.8&lt;/complianceLevel&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;compile&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; è¿™ä¸ªæ’ä»¶ä¼šç»‘å®šåˆ°ç¼–è¯‘æœŸï¼Œé‡‡ç”¨çš„åº”è¯¥æ˜¯ç¼–è¯‘åç»‡å…¥çš„æ–¹å¼ï¼Œåœ¨ maven-compiler-plugin å¤„ç†å®Œä¹‹åå†å·¥ä½œçš„ã€‚ ä¸è¦ä»¥ä¸ºè¿™ä¸ªæ’ä»¶å¤šå‰å®³ï¼Œè¯´ç™½äº†ä»–å…¶å®å°±æ˜¯å¯¹ aspectjtools.jar çš„ä¸€ä¸ª mojo å°è£…è€Œå·²ï¼Œå»çœ‹ä»–çš„ä¾èµ–æ ‘å°±ä¼šå¾ˆæ¸…æ¥šã€‚ è¿™ä¸ªé—®é¢˜å¾ˆæœ‰æ„æ€ï¼Œä¹Ÿæ˜¯éå¸¸å®¹æ˜“è¢«ææ··çš„ï¼Œå°¤å…¶æ˜¯åœ¨è®¨è®º spring aop çš„æ—¶å€™ã€‚æˆ‘ä»¬çŸ¥é“ spring é‡Œæœ‰å¾ˆå¤šåŸºäºåŠ¨æ€ä»£ç†çš„è®¾è®¡ï¼Œè€Œæˆ‘ä»¬çŸ¥é“åŠ¨æ€ä»£ç†ä¹Ÿå¯ä»¥è¢«ç”¨ä½œé¢å‘åˆ‡é¢çš„ç¼–ç¨‹ï¼Œä½†æ˜¯ spring aop æœ¬èº«å´æ”¯æŒ aspectj çš„åˆ‡é¢è¯­æ³•ï¼Œè€Œä¸” spring-aop è¿™ä¸ªåŒ…ä¹Ÿå¼•ç”¨äº† aspectjï¼Œæˆ‘ä»¬çŸ¥é“ aspectj æ˜¯é€šè¿‡ç»‡å…¥çš„æ–¹å¼æ¥å®ç° aop çš„ã€‚ã€‚ã€‚é‚£ä¹ˆ spring aop ç©¶ç«Ÿæ˜¯é€šè¿‡ç»‡å…¥è¿˜æ˜¯ä»£ç†æ¥å®ç° aop çš„å‘¢ï¼Ÿ æ²¡é”™å°±æ˜¯åŠ¨æ€ä»£ç† å…¶å® spring aop è¿˜æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†æ¥å®ç° aop çš„ï¼Œå³ä½¿ä¸å»çœ‹ä»–çš„æºç ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ç®€å•çš„å®éªŒæ¥å¾—åˆ°è¿™ä¸ªç»“è®ºã€‚ æ ¹æ® aspectj çš„ä½¿ç”¨æ–¹å¼ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœè¦å‘ä»£ç ä¸­ç»‡å…¥åˆ‡é¢ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦ä¹ˆé‡‡ç”¨ ajc ç¼–è¯‘ï¼Œè¦ä¹ˆä½¿ç”¨ aspectjweaver çš„ agent ä»£ç†ã€‚ä½†æ˜¯ spring æ—¢æ²¡æœ‰ä¾èµ–ä»»ä½• aspectjtools çš„ç›¸å…³ jar åŒ…ï¼Œè™½ç„¶ä¾èµ–äº† aspectjweaver è¿™ä¸ªåŒ…ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ·»åŠ  agent ä»£ç†ã€‚å½“ç„¶ï¼Œä¹Ÿå­˜åœ¨ä¸€ç§å¯èƒ½å°±æ˜¯ spring åˆ©ç”¨ aspectjweaver è¿™ä¸ªåŒ…è‡ªå·±å®ç°äº†åŠ¨æ€ç»‡å…¥ï¼Œä½†æ˜¯ä»å¯å¤ç”¨çš„è§’åº¦è®²ï¼Œspring çœŸçš„ä¼šè‡ªå·±é‡æ–°é€ è½®å­ï¼Ÿå¦‚æœçœŸçš„é‡æ–°é€ äº†é‚£ä¸ºå•¥ä¸è„±ç¦» aspectj å½»åº•é‡æ–°é€ ï¼Œè€Œæ˜¯ç”¨ä¸€åŠé€ ä¸€åŠå‘¢ï¼Ÿ è€Œä¸”ï¼Œæˆ‘ä»¬çŸ¥é“ç”¨ç»‡å…¥å’Œç”¨åŠ¨æ€ä»£ç†æœ‰ä¸€ä¸ªå¾ˆå¤§çš„åŒºåˆ«ï¼Œå¦‚æœä½¿ç”¨ç»‡å…¥çš„è¯ï¼Œé‚£ä¹ˆè°ƒä¸šåŠ¡å¯¹è±¡çš„ getClass() æ–¹æ³•è·å¾—çš„ç±»åå°±æ˜¯è¿™ä¸ªç±»æœ¬èº«å®ç°çš„ç±»åï¼›ä½†æ˜¯å¦‚æœä½¿ç”¨åŠ¨æ€ä»£ç†çš„è¯ï¼Œè°ƒç”¨ getClass() æ–¹æ³•è·å¾—çš„ç±»åå°±æ˜¯åŠ¨æ€ä»£ç†ç±»çš„ç±»åäº†ã€‚åšä¸€ä¸ªç®€å•çš„å®éªŒæˆ‘ä»¬å°±å¯ä»¥å‘ç°ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨ spring aop æ¥å¯¹æŸä¸€ä¸ª service è¿›è¡Œåˆ‡é¢å¤„ç†ï¼Œé‚£ä¹ˆè°ƒç”¨ getClass() æ–¹æ³•è·å¾—çš„ç»“æœå°±æ˜¯ï¼š com.mythsman.test.Myservice$$EnhancerBySpringCGLIB$$3afc9148 æ˜¾ç„¶ï¼Œè™½ç„¶ spring aop é‡‡ç”¨äº† aspectj è¯­æ³•æ¥å®šä¹‰åˆ‡é¢ï¼Œä½†æ˜¯åœ¨å®ç°åˆ‡é¢é€»è¾‘çš„æ—¶å€™è¿˜æ˜¯é‡‡ç”¨ CGLIB æ¥è¿›è¡ŒåŠ¨æ€ä»£ç†çš„æ–¹æ³•ã€‚ å¼ºè¡Œç»‡å…¥ï¼Ÿ å½“ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¼ºè¡Œé‡‡ç”¨ç»‡å…¥çš„æ–¹å¼ï¼Œä¸è¿‡æˆ‘ä»¬å°±ä¸èƒ½å°†åˆ‡é¢ç±»æ³¨å†Œä¸º spring çš„ beanï¼Œå¹¶ä¸”é‡‡ç”¨ ajc æ’ä»¶ç¼–è¯‘æˆ–è€… java agent åœ¨ç±»åŠ è½½æ—¶ç»‡å…¥ã€‚ ","link":"https://midasism.github.io/post/WML3zHU7p/"},{"title":"XMLæ–‡ä»¶ é…ç½®AOP","content":"1ã€ä½¿ç”¨æ­¥éª¤ 1.1ã€ç›¸å…³ä¾èµ– aspectjweaver &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.9.6&lt;/version&gt; &lt;/dependency&gt; 1.2ã€ç¼–å†™åˆ‡é¢æ–¹æ³• åˆ‡é¢æ–¹æ³•å‚æ•°ä¸­çš„JoinPointå¯¹è±¡ä¸ºå¯é€‰å€¼ å‰ç½®é€šçŸ¥å’Œåç½®é€šçŸ¥ æ— ç‰¹æ®Šè¦æ±‚ è¿”å›åé€šçŸ¥ | è·å–ç›®æ ‡æ–¹æ³•è¿”å›å€¼ï¼šåˆ‡é¢æ–¹æ³•å¢åŠ ä¸€ä¸ªå‚æ•°ï¼Œç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è¿”å›åé€šçŸ¥çš„returningå±æ€§å€¼ä¸ºå‚æ•°å //å‡è®¾ç›®æ ‡æ–¹æ³•è¿”å›å€¼ç±»å‹ä¸ºR public void xx(JoinPoint joinPointï¼ŒR ret){} &lt;aop:after-returning method=&quot;xx&quot; pointcut-ref=&quot;&quot; returning=&quot;ret&quot;/&gt; å¼‚å¸¸é€šçŸ¥ | è·å–å¼‚å¸¸ä¿¡æ¯ï¼šåˆ‡é¢æ–¹æ³•å¢åŠ ä¸€ä¸ªThrowableå‚æ•°ï¼Œç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®å¼‚å¸¸é€šçŸ¥çš„throwingå±æ€§å€¼ä¸ºThrowableå‚æ•°å //åˆ‡é¢æ–¹æ³• public void xx(JoinPoint joinPointï¼ŒThrowable th){} &lt;aop:after-throwing method=&quot;xx&quot; pointcut-ref=&quot;&quot; throwing=&quot;th&quot;/&gt; ç¯ç»•é€šçŸ¥ | åˆ‡é¢æ–¹æ³•ä½¿ç”¨proceedæ–¹æ³•æ‰§è¡Œç›®æ ‡æ–¹æ³•æ—¶å¿…é¡»æŠ›å‡ºThrowableå¼‚å¸¸æˆ–è€…ä½¿ç”¨try-catchè¯­å¥ | å¦‚æœåˆ‡é¢æ–¹æ³•æ²¡æœ‰å°†proceedæ–¹æ³•çš„è¿”å›å€¼è¿”å›ï¼Œåˆ™æœ€ç»ˆç›®æ ‡æ–¹æ³•å®é™…æ‰§è¡Œæ—¶æ— è¿”å›å€¼ |å¦‚æœåˆ‡é¢æ–¹æ³•ä½¿ç”¨try-catchè¯­å¥è€Œæ²¡æœ‰æŠ›å‡ºThrowableå¼‚å¸¸ï¼Œåˆ™å¼‚å¸¸é€šçŸ¥æ— æ³•æ‰§è¡Œ //åˆ‡é¢æ–¹æ³• public Object xx(ProceedingJoinPoint joinPoint) { Object ret = null; //æ‰§è¡Œç›®æ ‡æ–¹æ³• try { ... ret = joinPoint.proceed(); ... } catch (Throwable throwable) { throwable.printStackTrace(); } return ret; } &lt;aop:around method=&quot;xx&quot; pointcut-ref=&quot;&quot;/&gt; 1.3ã€xmlé…ç½®æ–‡ä»¶ 1.3.1ã€åˆ›å»ºåˆ‡é¢ç±»bean 1.3.2ã€é…ç½®aop-config é…ç½®aop:pointcutï¼šå†³å®šåˆ‡ç‚¹çš„ä½œç”¨åŸŸ &lt;aop:pointcut id=&quot;&quot; expression=&quot;execution(åˆ‡ç‚¹è¡¨è¾¾å¼)&quot;/&gt; é…ç½®aop:aspect&lt;!-- methodï¼šé€‰æ‹©åˆ‡é¢ç±»å¯¹åº”æ–¹æ³• --&gt; &lt;!-- pointcut-refï¼šè®¾ç½®é€šçŸ¥çš„ä½œç”¨åŸŸï¼Œé€‰æ‹©ä¸Šé¢é…ç½®è¿‡çš„pointcut --&gt; &lt;aop:aspect ref=&quot;åˆ‡é¢ç±»bean&quot;&gt; &lt;!-- å‰ç½®é€šçŸ¥ before --&gt; &lt;aop:before method=&quot;&quot; pointcut-ref=&quot;ä¸Šé¢é…ç½®çš„pointcut&quot;/&gt; &lt;!-- è¿”å›åé€šçŸ¥ after-returning --&gt; &lt;!-- returningï¼šé€‰æ‹©è¿”å›åé€šçŸ¥å¯¹åº”çš„åˆ‡é¢æ–¹æ³•ä¸­çš„è¿”å›å€¼å‚æ•°å --&gt; &lt;aop:after-returning method=&quot;&quot; pointcut-ref=&quot;&quot; returning=&quot;&quot;/&gt; &lt;!-- å¼‚å¸¸é€šçŸ¥ after-throwing --&gt; &lt;!-- throwingï¼šé€‰æ‹©å¼‚å¸¸é€šçŸ¥å¯¹åº”çš„åˆ‡é¢æ–¹æ³•ä¸­çš„Throwableå‚æ•°å --&gt; &lt;aop:after-throwing method=&quot;&quot; pointcut-ref=&quot;&quot; throwing=&quot;&quot;/&gt; &lt;!-- ç¯ç»•é€šçŸ¥ around --&gt; &lt;aop:around method=&quot;&quot; pointcut-ref=&quot;&quot;/&gt; &lt;!-- åç½®é€šçŸ¥ after --&gt; &lt;!-- ç›¸å½“äºtry-catchè¯­å¥ä¸­çš„finallyå—--&gt; &lt;aop:after method=&quot;&quot; pointcut-ref=&quot;&quot;/&gt; &lt;/aop:aspect&gt; 2ã€å®æˆ˜ 2.1ã€ç›¸å…³ä¾èµ– spring-contextã€aspectjweaver &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;5.2.12.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.9.6&lt;/version&gt; &lt;/dependency&gt; 2.2ã€ç›¸å…³ç±» å­¦ç”Ÿæ¥å£ StudentDao.java package com.dao; public class StudentDao { public void insert(){ System.out.println(&quot;å¢åŠ ä¸€ä¸ªå­¦ç”Ÿ&quot;); } } å­¦ç”Ÿç›¸å…³ä¸šåŠ¡ StudentService.java package com.service; import com.dao.StudentDao; public class StudentService { private StudentDao studentDao; public StudentService() {} public StudentService(StudentDao studentDao) { this.studentDao = studentDao; } public StudentDao getStudentDao() { return studentDao; } public void setStudentDao(StudentDao studentDao) { this.studentDao = studentDao; } //ä¸šåŠ¡ä¸€ï¼šæ·»åŠ å­¦ç”Ÿ public void createStudent(){ System.out.println(&quot;å­¦ç”Ÿå…¥å­¦&quot;); studentDao.insert(); } //ä¸šåŠ¡äºŒï¼šé€šè¿‡å­¦å·è·å–å­¦ç”Ÿå§“å public String getStudentName(String id) { return &quot;zhangsan&quot;; } } åˆ‡é¢æ–¹æ³•ç±» MethodAspect.java package com.aspect; import org.aspectj.lang.JoinPoint; import org.aspectj.lang.ProceedingJoinPoint; import java.text.SimpleDateFormat; import java.util.Arrays; import java.util.Date; public class MethodAspect { //å‰ç½®é€šçŸ¥ï¼šè·å–æ‰§è¡Œæ—¶çš„æ—¶é—´ public void currentTime(JoinPoint point) { SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd hh-mm-ss&quot;); System.out.println(&quot;å‰ç½®é€šçŸ¥ï¼š&quot;+format.format(new Date())); } //åç½®é€šçŸ¥ï¼šæ‰§è¡Œå®Œæ¯•åè¯´å†è§ public void afterSayBye(JoinPoint joinPoint) { System.out.println(&quot;åç½®é€šçŸ¥ï¼šbye!&quot;); } //è¿”å›åé€šçŸ¥ï¼šæ‰“å°è¿”å›å€¼ public void printReturn(JoinPoint joinPoint, String ret) { System.out.println(&quot;è¿”å›å€¼ï¼š&quot; + ret); Arrays.stream(joinPoint.getArgs()).forEach(e -&gt; System.out.println(&quot;å‚æ•°ï¼š&quot; + e)); } //å¼‚å¸¸é€šçŸ¥ï¼šæ‰“å°å¼‚å¸¸ä¿¡æ¯ public void printError(JoinPoint joinPoint, Throwable th) { System.out.println(&quot;å¼‚å¸¸é€šçŸ¥ï¼š&quot; + th.getMessage()); } /** * ç¯ç»•é€šçŸ¥ï¼šæ‰“å°æ–¹æ³•è¿è¡Œè€—è´¹çš„æ—¶é—´ * å¦‚æœæƒ³è¦ç¯ç»•é€šçŸ¥å’Œå¼‚å¸¸é€šçŸ¥åŒæ—¶èƒ½å·¥ä½œï¼Œç¯ç»•é€šçŸ¥éœ€è¦æŠ›å‡ºå¼‚å¸¸è€Œä¸æ˜¯ä½¿ç”¨try-catchè¯­å¥ */ //æŠ›å‡ºThrowable public Object printTotalRunningTime(ProceedingJoinPoint joinPoint) throws Throwable { long beginTime = new Date().getTime(); //æ‰§è¡Œç›®æ ‡æ–¹æ³• Object ret = joinPoint.proceed(); long endTime = new Date().getTime(); System.out.println(&quot;ç¯ç»•é€šçŸ¥ï¼š &quot;+joinPoint.getSignature().getName() + &quot;æ–¹æ³•æ‰€èŠ±çš„æ—¶é—´ä¸ºï¼š&quot; + (endTime - beginTime) + &quot;ms&quot;); return ret; } //try-catch public Object printTotalRunningTime(ProceedingJoinPoint joinPoint) { Object ret = null; //æ‰§è¡Œç›®æ ‡æ–¹æ³• try { long beginTime = new Date().getTime(); ret = joinPoint.proceed(); long endTime = new Date().getTime(); System.out.println(joinPoint.getSignature().getName() + &quot;æ–¹æ³•æ‰€èŠ±çš„æ—¶é—´ä¸ºï¼š&quot; + (endTime - beginTime) + &quot;ms&quot;); } catch (Throwable throwable) { throwable.printStackTrace(); } return ret; } } å¯åŠ¨ç±» SpringApplication.java package com.aop; import com.service.StudentService; import org.springframework.context.support.AbstractApplicationContext; import org.springframework.context.support.ClassPathXmlApplicationContext; import java.util.Arrays; public class SpringApplication { public static void main(String[] args) { AbstractApplicationContext context = new ClassPathXmlApplicationContext(&quot;classpath:applicationContext.xml&quot;); StudentService service = context.getBean(&quot;studentService&quot;, StudentService.class); String studentName = service.getStudentName(&quot;123456&quot;); } } 2.3ã€xmlé…ç½®æ–‡ä»¶ applicationContext.xml &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd&quot;&gt; &lt;bean id=&quot;studentDao&quot; class=&quot;com.dao.StudentDao&quot;/&gt; &lt;bean id=&quot;studentService&quot; class=&quot;com.service.StudentService&quot;&gt; &lt;property name=&quot;studentDao&quot; ref=&quot;studentDao&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;methodAspect&quot; class=&quot;com.aspect.MethodAspect&quot;/&gt; &lt;aop:config&gt; &lt;!-- é…ç½®åˆ‡ç‚¹çš„ä½œç”¨åŸŸ--&gt; &lt;!-- å¤šä¸ªæ¡ä»¶ä½¿ç”¨ andæˆ–è€…or --&gt; &lt;!-- expression=&quot;execution(public * com.service..*.*(..)) or execution(public * com.dao..*.*(..))&quot;--&gt; &lt;aop:pointcut id=&quot;service&quot; expression=&quot;execution(public * com.service..*.*(..))&quot;/&gt; &lt;aop:aspect ref=&quot;methodAspect&quot;&gt; &lt;aop:before method=&quot;currentTime&quot; pointcut-ref=&quot;service&quot;/&gt; &lt;aop:after-returning method=&quot;printReturn&quot; pointcut-ref=&quot;service&quot; returning=&quot;ret&quot;/&gt; &lt;aop:after-throwing method=&quot;printError&quot; pointcut-ref=&quot;service&quot; throwing=&quot;th&quot;/&gt; &lt;aop:around method=&quot;printTotalRunningTime&quot; pointcut-ref=&quot;service&quot;/&gt; &lt;!-- ç›¸å½“äºtry-catchè¯­å¥ä¸­çš„finallyå—--&gt; &lt;aop:after method=&quot;afterSayBye&quot; pointcut-ref=&quot;service&quot;/&gt; &lt;/aop:aspect&gt; &lt;/aop:config&gt; &lt;/beans&gt; 2.4ã€è¿è¡Œç»“æœ ","link":"https://midasism.github.io/post/aop-xml/"},{"title":"Spring Testä¸JUnit4æ•´åˆ","content":" Spring Testæ˜¯Springä¸­ç”¨äºæµ‹è¯•çš„æ¨¡å— Spring Testå¯¹JUnitå•å…ƒæµ‹è¯•æ¡†æ¶æœ‰è‰¯å¥½çš„æ•´åˆ é€šè¿‡Spring Testå¯ä»¥åœ¨JUnitå•å…ƒæµ‹è¯•æ—¶è‡ªåŠ¨åˆå§‹åŒ–IOCå®¹å™¨ 1ã€ç¯å¢ƒå‡†å¤‡ 1.1ã€ç›¸å…³ä¾èµ– &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;5.2.12.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Spring Test--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;5.2.9.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Junit--&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; 1.2ã€ç›¸å…³æ³¨è§£ @RunWith(SpringJUnit4ClassRunner.class)ï¼šä½¿Springæ¥ç®¡JUnitçš„æ§åˆ¶æƒï¼Œåœ¨æµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå‰è‡ªåŠ¨åˆå§‹åŒ–IOCå®¹å™¨ @ContextConfiguration(locations = {})ï¼šè¯´æ˜è¦åŠ è½½çš„xmlé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼ˆå¯åŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶ï¼‰ 2ã€å®æˆ˜ //Test.java import org.junit.runner.RunWith; import org.springframework.test.context.ContextConfiguration; import org.springframework.test.context.junit4.SpringJUnit4ClassRunner; import spring.service.StudentService; import javax.annotation.Resource; @RunWith(SpringJUnit4ClassRunner.class) @ContextConfiguration(locations = {&quot;classpath:applicationContext.xml&quot;}) public class Test { @Resource private StudentService service; @org.junit.Test public void testService() { service.test(); } } ","link":"https://midasism.github.io/post/dai-wan-cheng-spring-yu-junit4-zheng-he/"},{"title":"Java Config é…ç½®IOCå®¹å™¨","content":"1ã€æ¦‚è¿° 1.1ã€ç”±æ¥ Spring IOCä¸­æœ‰ä¸ªé‡è¦çš„æ¦‚å¿µâ€”â€”Beanï¼ŒBeanå³å¯¹è±¡ï¼Œæˆ‘ä»¬é€šè¿‡é…ç½®Beanè®©IOCå®¹å™¨ç®¡ç†Beanï¼Œè€Œæœ€å¸¸ç”¨çš„æ–¹å¼å°±æ˜¯é€šè¿‡XMLæ–‡ä»¶æ¥é…ç½®ï¼Œä½†é€šè¿‡XMLæ–‡ä»¶æ¥é…ç½®æ¯”è¾ƒç¹çï¼Œæ•°é‡è¾ƒå¤šçš„æ—¶å€™ä¼šä½¿é¡¹ç›®å˜å¾—å¤æ‚ï¼Œè€Œä¸”ä½¿ç”¨XMLé…ç½®æ²¡æœ‰ç¼–è¯‘æ—¶çš„ç±»å‹å®‰å…¨æ£€æŸ¥ æ‰€ä»¥åœ¨Spring4ä»¥åï¼ŒSpringæ¨èä½¿ç”¨Java Configä»£æ›¿XMLæ–‡ä»¶æ¥é…ç½®Bean Java Configå°±æ˜¯ä½¿ç”¨æ³¨è§£ï¼Œé€šè¿‡javaç±»æ¥æè¿°Beané…ç½®çš„ç»„ä»¶ Java Configç»“åˆäº†XMLçš„è§£è€¦å’ŒJAVAç¼–è¯‘æ—¶æ£€æŸ¥çš„ä¼˜ç‚¹ï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªXMLæ–‡ä»¶ï¼Œåªä¸è¿‡æ˜¯ç”±Javaç¼–å†™çš„ 1.2ã€ä¼˜ç¼ºç‚¹ 1.2.1ã€ä¼˜ç‚¹ æ‘’å¼ƒxmlé…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨Javaç±»ç®¡ç†å¯¹è±¡å’Œä¾èµ– æ³¨è§£é…ç½®ç›¸å¯¹åˆ†æ•£ï¼Œä½¿ç”¨Java Configå¯ä»¥é›†ä¸­ç®¡ç†é…ç½® å¯ä»¥åœ¨ç¼–è¯‘æ—¶è¿›è¡Œä¾èµ–æ£€æŸ¥ï¼Œä¸å®¹æ˜“å‡ºé”™ 1.2.2ã€ç¼ºç‚¹ ä¸xmlé…ç½®æ–‡ä»¶ç›¸æ¯”ï¼Œå¯ç»´æŠ¤æ€§å·® 2ã€ç›¸å…³æ³¨è§£ @Configurationï¼šæè¿°ç±»ï¼Œç”¨äºæ ‡è®°Java Configé…ç½®ç±» @Beanï¼šæè¿°æ–¹æ³•ï¼ŒIOCå®¹å™¨ä¼šç®¡ç†è¢«æ ‡è®°æ–¹æ³•è¿”å›çš„å¯¹è±¡ï¼ˆbean idé»˜è®¤ä¸ºæ–¹æ³•åï¼‰ @ComponentScanï¼šæè¿°ç±»ï¼Œæ‰«ææŒ‡å®šç±»ä¸­çš„æ³¨è§£é…ç½®ï¼ˆä½œç”¨ä¸xmlé…ç½®ä¸­çš„context:component-scanæ ‡ç­¾ç›¸åŒï¼‰ @ImportResourceï¼šæè¿°ç±»ï¼ŒåŠ è½½é™æ€æ–‡ä»¶ï¼Œå¯ä½¿ç”¨@Valueæ³¨è§£è·å– | ç”±äºæ˜¯Javaç±»çš„å½¢å¼ï¼Œæ‰€ä»¥åŒæ ·å¯ä»¥ä½¿ç”¨å„ç§ç±»æ³¨è§£ï¼Œæ¯”å¦‚@Primary 3ã€ä½¿ç”¨æ­¥éª¤ 3.1ã€åˆ›å»ºé…ç½®ç±» éœ€è¦ä½¿ç”¨ @Configuration æ³¨è§£æ ‡æ³¨é…ç½®ç±» //JavaConfig.java package spring.config; import org.springframework.context.annotation.Configuration; @Configuration public class JavaConfig { } 3.2ã€åˆ›å»ºbean StudentControllerç±» //StudentController.java package spring.controller; import lombok.Data; import spring.service.StudentService; @Data public class StudentController { private StudentService service; public StudentController() { System.out.println(&quot;StudentControlleråˆ›å»º&quot;); } } StudentServiceç±» //StudentService.java package spring.service; public class StudentService { public StudentService() { System.out.println(&quot;StudentServiceåˆ›å»º&quot;); } } åˆ›å»ºbean ä½¿ç”¨@Beanæ³¨è§£æ ‡æ³¨æ–¹æ³•ï¼ŒIOCå®¹å™¨ç®¡ç†æ–¹æ³•è¿”å›çš„å¯¹è±¡ï¼ˆä¸XMLé…ç½®ä¸­çš„æ ‡ç­¾ä½œç”¨ç›¸åŒï¼‰ bean idä¸ºæ–¹æ³•å //JavaConfig.java package spring; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import spring.controller.StudentController; import spring.service.StudentService; @Configuration public class JavaConfig { //æ­¤å¤„åˆ›å»ºserviceã€controllerä¸¤ä¸ªbean @Bean public StudentService service() { StudentService service = new StudentService(); return service; } @Bean public StudentController controller() { StudentController controller = new StudentController(); return controller; } } æµ‹è¯• æµ‹è¯•ç±» //ApplicationContext.java package spring; import org.springframework.context.annotation.AnnotationConfigApplicationContext; import org.springframework.context.support.AbstractApplicationContext; import spring.config.JavaConfig; import spring.controller.StudentController; import java.util.Arrays; public class ApplicationContext { public static void main(String[] args) { AbstractApplicationContext context = new AnnotationConfigApplicationContext(JavaConfig.class); String[] beanDefinitionNames = context.getBeanDefinitionNames(); Arrays.stream(beanDefinitionNames).forEach(e -&gt; System.out.println(e)); } } æµ‹è¯•ç»“æœ | æ‰“å°IOCå®¹å™¨ä¸­æ‰€æœ‰çš„bean è§‚å¯Ÿåˆ°ä¸¤ä¸ªbeanåˆ›å»ºæˆåŠŸ 3.3ã€è®¾ç½®å¯¹è±¡ä¾èµ– è®¾ç½®å¯¹è±¡ä¾èµ–æ—¶ï¼Œå°†ä¾èµ–çš„å¯¹è±¡é€šè¿‡æ–¹æ³•çš„å±æ€§ä¼ å…¥ï¼Œå¹¶åœ¨æ–¹æ³•ä¸­é€šè¿‡æ„é€ æ–¹æ³•ã€setterç­‰æ–¹å¼æ³¨å…¥ä¾èµ– åœ¨æŸ¥æ‰¾å±æ€§å¯¹åº”çš„beanæ—¶ï¼Œå…ˆæŒ‰å±æ€§åæŸ¥æ‰¾ï¼Œæ‰¾ä¸åˆ°å†æŒ‰å±æ€§ç±»å‹æŸ¥æ‰¾ //JavaConfig.java ...... @Bean public StudentController controller(StudentService service) { StudentController controller = new StudentController(); controller.setService(service); return controller; } æµ‹è¯• æµ‹è¯•ç»“æœ | æ‰“å°controller è§‚å¯Ÿåˆ°å±æ€§æ³¨å…¥æˆåŠŸ ","link":"https://midasism.github.io/post/dai-wan-cheng-java-config/"},{"title":"åŸºäºæ³¨è§£é…ç½®Bean","content":"ä¸€ã€ç¯å¢ƒå‡†å¤‡ Springé…ç½®æ–‡ä»¶ applicationContext.xml &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/c&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!-- å¼€å¯è‡ªåŠ¨æ‰«æ --&gt; &lt;context:component-scan base-package=&quot;å¾…æ‰«æçš„åŒ…&quot;/&gt; &lt;/beans&gt; äºŒã€ç›¸å…³æ³¨è§£ @Repositoryï¼šæ ‡è®°æ•°æ®è®¿é—®å±‚ï¼ˆdaoï¼‰ @Controllerï¼šæ ‡è®°æ§åˆ¶å™¨å±‚ï¼ˆcontrollerï¼‰ @Serviceï¼šæ ‡è®°ä¸šåŠ¡å±‚ï¼ˆserviceï¼‰ @Componentï¼šæ ‡è®°é€šç”¨ç»„ä»¶ è¦ç‚¹ å¦‚æœä½¿ç”¨é»˜è®¤æ³¨è§£ï¼Œåˆ™ç±»å¯¹åº”çš„beançš„idä¸ºå¼€å¤´å­—æ¯å°å†™çš„ç±»å å¦‚æœæƒ³è¦è‡ªå®šä¹‰beançš„idï¼Œåˆ™å¯¹æ³¨è§£çš„valueå±æ€§èµ‹å€¼å³å¯ //æ— å‚ bean idä¸ºstudent @Controller() public class Student { private String name; private String id; } //bean idä¸º s1 //@Controller(&quot;s1&quot;) @Controller(value = &quot;s1&quot;) public class Student { private String name; private String id; } åœ¨ç±»ä¸Šä½¿ç”¨ä»¥ä¸Šå››ä¸ªæ³¨è§£åï¼ŒSpringä¼šè‡ªåŠ¨åˆ›å»ºç›¸åº”çš„BeanDefinitionå¯¹è±¡ï¼Œå¹¶æ³¨å†Œåˆ°ApplicationContextä¸­ å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰æ³¨è§£ï¼Œç„¶ååœ¨æ³¨è§£ä¸Šæ ‡æ³¨@Componentï¼Œè¯¥è‡ªå®šä¹‰æ³¨è§£å°±å…·æœ‰äº†@Componentçš„åŠŸèƒ½ ä»¥ä¸Š4ä¸ªæ³¨è§£åŠŸèƒ½ç›¸åŒï¼Œåªæ˜¯ä½œç”¨ä½ç½®ä¸åŒï¼Œå¢å¼ºå¯è¯»æ€§ ","link":"https://midasism.github.io/post/ji-yu-zhu-jie-chu-shi-hua-ioc-rong-qi/"},{"title":"å®ç°ä¸€ä¸ªæç®€IOCå®¹å™¨","content":"| æœ¬æ–‡é€šè¿‡xmlè§£ææŠ€æœ¯å’Œåå°„æŠ€æœ¯æ‰‹åŠ¨å®ç°Spring iocå®¹å™¨é€šè¿‡xmlé…ç½®æ–‡ä»¶åˆå§‹åŒ–beançš„è¿‡ç¨‹ï¼Œä»…å®ç°getBeanæ–¹æ³• 1ã€ç¯å¢ƒå‡†å¤‡ 1ã€åˆ›å»ºä¸€ä¸ªmavené¡¹ç›® 2ã€pom.xmlä¸­å¼•å…¥dom4jã€jaxenã€lombokä¾èµ– dom4jï¼š xmlè§£æç»„ä»¶ jaxenï¼šXpathè¡¨è¾¾å¼è§£æå™¨ lombokï¼šç”¨äºç®€åŒ–ä»£ç  æ¯”å¦‚setterã€getterã€æ„é€ å™¨ç­‰ç­‰ &lt;!--dom4j--&gt; &lt;dependency&gt; &lt;groupId&gt;dom4j&lt;/groupId&gt; &lt;artifactId&gt;dom4j&lt;/artifactId&gt; &lt;version&gt;1.6.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- jaxen--&gt; &lt;dependency&gt; &lt;groupId&gt;jaxen&lt;/groupId&gt; &lt;artifactId&gt;jaxen&lt;/artifactId&gt; &lt;version&gt;1.1.1&lt;/version&gt; &lt;/dependency&gt; &lt;!-- lombok--&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;RELEASE&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; 2ã€å®ç°è¿‡ç¨‹ 1ã€å®ä½“ç±»ï¼šStudent | æ­¤å¤„åœ¨setteræ–¹æ³•ä¸­æ‰“å°è¯­å¥ï¼Œä¾¿äºè§‚å¯Ÿæœ€ç»ˆç»“æœæ¥å°è¯iocå®¹å™¨æ³¨å…¥å±æ€§çš„æ–¹å¼ package com.ioc.entity; import lombok.*; @Getter @ToString @NoArgsConstructor @AllArgsConstructor public class Student { private String name; private String id; private String sex; public void setName(String name) { System.out.println(&quot;IOCå®¹å™¨é€šè¿‡setteræ–¹æ³•æ³¨å…¥nameå±æ€§ï¼š&quot; + name); this.name = name; } public void setId(String id) { System.out.println(&quot;IOCå®¹å™¨é€šè¿‡setteræ–¹æ³•æ³¨å…¥idå±æ€§ï¼š&quot; + id); this.id = id; } public void setSex(String sex) { System.out.println(&quot;IOCå®¹å™¨é€šè¿‡setteræ–¹æ³•æ³¨å…¥sexå±æ€§ï¼š&quot; + sex); this.sex = sex; } } 2ã€xmlé…ç½®æ–‡ä»¶ï¼šapplicationContext.xml | é…ç½®æ–‡ä»¶ç»“æ„å’Œspringä¿æŒä¸€è‡´ &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;beans&gt; &lt;bean id=&quot;s1&quot; class=&quot;com.ioc.entity.Student&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;å¼ ä¸‰&quot;/&gt; &lt;property name=&quot;id&quot; value=&quot;1928722031&quot;/&gt; &lt;property name=&quot;sex&quot; value=&quot;ç”·&quot;/&gt; &lt;/bean&gt; &lt;/beans&gt; 3ã€ApplicationContextæŠ½è±¡ç±» public interface ApplicationContext { public Object getBean(String beanId); } 4ã€ClassPathXmlApplicationContextï¼šSpring contextå®ç°ç±» package com.ioc.context; import org.dom4j.Document; import org.dom4j.Element; import org.dom4j.Node; import org.dom4j.io.SAXReader; import java.io.File; import java.lang.reflect.Method; import java.net.URLDecoder; import java.util.HashMap; import java.util.List; import java.util.Map; public class ClassPathXmlApplicationContext implements ApplicationContext { //ä½¿ç”¨Mapé›†åˆ Map&lt;String, Object&gt; iocContainer = new HashMap&lt;&gt;(); public ClassPathXmlApplicationContext() { try { //è·å–é…ç½®æ–‡ä»¶çš„è·¯å¾„ String filepath = this.getClass().getResource(&quot;/applicationContext.xml&quot;).getPath(); //å°†è·¯å¾„ç”¨UTF-8è§£ç ï¼Œé˜²æ­¢ä¸­æ–‡è·¯å¾„ä¹±ç  filepath = new URLDecoder().decode(filepath, &quot;UTF-8&quot;); //ç”¨äºè§£æXMLæ–‡ä»¶ SAXReader reader = new SAXReader(); //å°†xmlæ–‡ä»¶è§£ææˆå¯¹è±¡ ä¾¿äºæ“ä½œ Document document = reader.read(new File(filepath)); //ä½¿ç”¨Xpathè¡¨è¾¾å¼é€‰æ‹©æ‰€æœ‰beanå…ƒç´  æ¯ä¸ªbeanå…ƒç´ å¯¹åº”ä¸€ä¸ªå¯¹è±¡ List&lt;Node&gt; beans = document.getRootElement().selectNodes(&quot;bean&quot;); for (Node e : beans) { //å°†beanèŠ‚ç‚¹å¼ºåˆ¶è½¬åŒ–ä¸ºElement å¾ˆå…³é”® Element element = (Element) e; //è·å–beanæ ‡ç­¾çš„å±æ€§å€¼ï¼šid class String id = element.attributeValue(&quot;id&quot;); String eClass = element.attributeValue(&quot;class&quot;); //è·å–classå±æ€§ä»£è¡¨çš„ç±»çš„Classå¯¹è±¡ Class c = Class.forName(eClass); //åˆ©ç”¨åå°„ é€šè¿‡ç©ºæ„é€ å™¨å®ä¾‹åŒ–bean //æ³¨ï¼šClasså¯¹è±¡.newInstance()å·²è¢«åºŸå¼ƒ Object o = c.getDeclaredConstructor().newInstance(); //ä½¿ç”¨Xpathè¡¨è¾¾å¼é€‰æ‹©beanå…ƒç´ çš„æ‰€æœ‰å±æ€§å€¼ propertyèŠ‚ç‚¹ //æ¯ä¸ªpropertyèŠ‚ç‚¹ä»£è¡¨å¯¹è±¡çš„ä¸€ä¸ªå±æ€§ List&lt;Node&gt; propertys = element.selectNodes(&quot;property&quot;); for (Node p : propertys) { Element property = (Element) p; //è·å–propertyæ ‡ç­¾çš„å±æ€§å€¼ï¼šname value String name = property.attributeValue(&quot;name&quot;); String value = property.attributeValue(&quot;value&quot;); //æ­¤å¤„é‡‡ç”¨å­—ç¬¦ä¸²æ‹¼æ¥æ„å»ºå±æ€§å¯¹åº”çš„setteræ–¹æ³•å String setMethodName = &quot;set&quot; + name.substring(0, 1).toUpperCase() + name.substring(1); //é€šè¿‡æ–¹æ³•åå’ŒClasså¯¹è±¡å¾—åˆ°å¯¹åº”çš„Methodç±» ä¾¿äºåç»­åå°„è°ƒç”¨ Method method = c.getMethod(setMethodName, String.class); //é€šè¿‡åå°„ åˆ©ç”¨å±æ€§çš„setteræ–¹æ³•å¯¹å±æ€§èµ‹å€¼ method.invoke(o, value); } //å°†åˆ›å»ºå¥½çš„beanæ”¾å…¥IOCå®¹å™¨ï¼ˆMapï¼‰ä¸­ iocContainer.put(id, o); } } catch (Exception e) { e.printStackTrace(); } System.out.println(&quot;iocå®¹å™¨å·²åˆå§‹åŒ–&quot;); } @Override public Object getBean(String beanId) { return iocContainer.get(beanId); } } 5ã€æµ‹è¯•ç±»ï¼šApplication package com.ioc.context; import com.ioc.entity.Student; public class Application { public static void main(String[] args) { ApplicationContext context = new ClassPathXmlApplicationContext(); Student s1 = (Student) context.getBean(&quot;s1&quot;); System.out.println(s1); } } è¿è¡Œç»“æœï¼š ","link":"https://midasism.github.io/post/ioc-demo/"},{"title":"Vueä½¿ç”¨æŒ‡å—","content":"ä¸€. å®‰è£…å¹¶é…ç½®node.js 1. å®‰è£… å¸¸è§„å®‰è£… nodejså®˜ç½‘ä¸‹è½½ï¼šhttps://nodejs.org/zh-cn/#home-downloadhead scoop scoop install nodejs æµ‹è¯•å®‰è£…ï¼šå‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¦‚æœè¾“å‡ºç›¸åº”ç‰ˆæœ¬å·ï¼Œåˆ™å®‰è£…æˆåŠŸ node -v npm -v 2. ç¯å¢ƒé…ç½® ï¼ˆ1ï¼‰é…ç½®npmå®‰è£…çš„å…¨å±€æ¨¡å—çš„å­˜æ”¾ç›®å½•å’Œç¼“å­˜cacheçš„è·¯å¾„ åœ¨nodejså®‰è£…çš„æ ¹è·¯å¾„ä¸‹åˆ›å»ºnode_cacheå’Œnode_globalæ–‡ä»¶å¤¹ é€šè¿‡å‘½ä»¤å°†è‡ªå®šä¹‰æ–‡ä»¶å¤¹è®¾ç½®ä¸ºnodejså…¨å±€æ¨¡å—å­˜æ”¾ç›®å½•å’Œç¼“å­˜cacheè·¯å¾„ npm config set prefix &quot;node_globalç£ç›˜å…¨è·¯å¾„&quot; npm config set cache &quot;node_cachelç£ç›˜å…¨è·¯å¾„&quot; æ·»åŠ ç¯å¢ƒå˜é‡ ä¿®æ”¹ç”¨æˆ·å˜é‡Pathï¼šæ·»åŠ  node_global æ–‡ä»¶å¤¹ç£ç›˜å…¨è·¯å¾„ æ–°å»ºç³»ç»Ÿå˜é‡NODE_PATHï¼šå€¼ä¸º node_global æ–‡ä»¶å¤¹ä¸­çš„ node_modules æ–‡ä»¶å¤¹çš„ç£ç›˜å…¨è·¯å¾„ ï¼ˆ2ï¼‰npmæ¢æº æ›´æ¢æ·˜å®é•œåƒ npm config set registry https://registry.npm.taobao.org æŸ¥çœ‹npmé…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬prefixã€cacheè·¯å¾„å’Œnpmæºç­‰ç­‰ npm config list äºŒ. å®‰è£…vueåŠç›¸å…³æ¨¡å— vue npm install vue -g webpack npm install webpack -g vue è„šæ‰‹æ¶ vue-cli npm install vue-cli -g ä¸‰. åˆ›å»ºvueé¡¹ç›® æ–°å»ºé¡¹ç›®å­˜æ”¾ç›®å½•ï¼Œåœ¨ç»ˆç«¯ä¸­è¿›å…¥è¯¥ç›®å½• cd ç›®å½•å…¨è·¯å¾„ åˆ›å»ºvueé¡¹ç›®ï¼Œå¹¶åœ¨ç»ˆç«¯ä¸­è¿›å…¥ vue init webpack é¡¹ç›®å cd é¡¹ç›®å å®‰è£…é¡¹ç›®ä¾èµ– å®‰è£…vue è·¯ç”±æ¨¡å— vue-router å’Œç½‘ç»œè¯·æ±‚æ¨¡å— vue-resource npm install vue-router vue-resource --save å¯åŠ¨é¡¹ç›® npm run dev ","link":"https://midasism.github.io/post/vue-an-zhuang-yu-pei-zhi/"},{"title":"Hello Gridea","content":"ğŸ‘ æ¬¢è¿ä½¿ç”¨ Gridea ï¼ âœï¸ Gridea ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ... Github Gridea ä¸»é¡µ ç¤ºä¾‹ç½‘ç«™ ç‰¹æ€§ğŸ‘‡ ğŸ“ ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ Markdown è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ ğŸŒ‰ ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡ ğŸ·ï¸ ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„ ğŸ“‹ ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå• ğŸ’» ä½ å¯ä»¥åœ¨ Windowsï¼ŒMacOS æˆ– Linux è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯ ğŸŒ ä½ å¯ä»¥ä½¿ç”¨ ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ æˆ– Coding Pages å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å° ğŸ’¬ ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ Gitalk æˆ– DisqusJS è¯„è®ºç³»ç»Ÿ ğŸ‡¬ğŸ‡§ ä½ å¯ä»¥ä½¿ç”¨ä¸­æ–‡ç®€ä½“æˆ–è‹±è¯­ ğŸŒ ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ› ğŸ–¥ ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥ ğŸŒ± å½“ç„¶ Gridea è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´ å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼ ğŸ˜˜ Enjoy~ ","link":"https://midasism.github.io/post/hello-gridea/"}]}